(this["webpackJsonpspelunky-2-bingo"]=this["webpackJsonpspelunky-2-bingo"]||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){},31:function(e,t){},32:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(2),r=n.n(i),a=n(11),s=n.n(a),o=(n(20),n(14)),u=n(10),l=n.n(u),f=n(12),d=n(5),j=(n(22),n(8)),v=n.n(j);var h=function(e){var t=Object(i.useState)(e.isActive||!1),n=Object(d.a)(t,2),r=n[0],a=n[1],s="card "+(e.isActive||r?"active":"notactive");return Object(c.jsx)("div",{className:s,onClick:function(){a(!r)},children:e.children})},b=n(13),p=n.n(b);var O=function(){var e=new URLSearchParams(window.location.search),t=e.get("seedinput"),n=e.get("debug"),a=Object(i.useState)(null),s=Object(d.a)(a,2),u=s[0],j=s[1],b=Object(i.useState)(t),O=Object(d.a)(b,2),g=O[0],m=O[1],x=new p.a(g),y=r.a.createRef(),w=function(){t=Math.random(),window.history.replaceState(null,null,"?seedinput="+t),m(t)};t||w(),Object(i.useEffect)((function(){function e(){return(e=Object(f.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/spelunky2bingo/values.csv");case 2:return t=e.sent,e.next=5,t.text();case 5:n=e.sent,c=v()(n.split("\n")).map((function(e){if(e.trim()){var t=e.match(/(.+),(\W*\d)/),n=Object(d.a)(t,3),c=n[1],i=n[2];c=c.trim();try{i=Number.parseInt(i.trim(),10)}catch(r){console.error("could not parse csv file, error with task: "+c)}return{task:c,difficulty:i}}})).filter().groupBy((function(e){return e.difficulty})).valueOf(),j(c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var k=[[],[],[],[],[]],S=[[],[],[],[],[]],A=[];if(u){for(var C=[new Set(u[1]),new Set(u[2]),new Set(u[3]),new Set(u[4]),new Set(u[5])],M=0;M<5;M++)for(var N=0;N<5;N++)if(2!==M||2!==N){var B,F=Math.floor(5*x.quick()),I=C[F];if(M>0){for(var L=0,P=0;P<M;P++)L+=k[P][N].difficulty;for(var R=L/M,U=0,q=0;q<N;q++)U+=k[M][q].difficulty;var z=U/N,E=(R+z)/2;console.log("iAvg",R,"jAvg",z,F),E<2?F++:E>4&&F--,console.log("iAvg",R,"jAvg",z,F)}for(;0===I.size;)console.error("difficulty overflow in difficulty",F),I=C[F=(F+1)%5];B=Math.floor(x.quick()*I.size);var J=Object(o.a)(I)[B];I.delete(J),k[M][N]=J}else k[M][N]={task:"free",difficulty:0};for(var T=0;T<5;T++)for(var D=0;D<5;D++)if(2===T&&2===D)S[T].push(Object(c.jsx)(h,{isActive:!0,children:"free"},"free"));else{var W=k[T][D],G=n?" ("+W.difficulty+")":"";S[T].push(Object(c.jsx)(h,{children:W.task+G},W.task+g))}A=v.a.flatMap(S)}return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{className:"App-header",children:"Spelunky 2 Bingo"}),Object(c.jsxs)("section",{children:[Object(c.jsxs)("form",{children:[Object(c.jsx)("label",{children:"Use a set seed: "}),Object(c.jsx)("input",{name:"seedinput",ref:y,value:g,onChange:function(e){m(e.target.value)}})]}),Object(c.jsx)("button",{onClick:w,children:"Use a Random Seed"})]}),Object(c.jsx)("section",{children:Object(c.jsx)("div",{className:"bingo-sheet",children:A})})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root")),g()}},[[32,1,2]]]);
//# sourceMappingURL=main.98f0a296.chunk.js.map